<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <div th:insert="~{top :: menu}"></div>
  <title>마이페이지</title>
</head>
<body>
<h2>마이페이지</h2>

<!-- 사용자의 정보를 보여주는 폼 -->
<form th:action="@{/user/updateUser}" th:object="${member}" method="post" th:if="${member != null}">
  <label>아이디:</label>
  <input type="text" th:field="*{memberId}" readonly/><br/>

  <label>이메일:</label>
  <input type="email" th:field="*{email}" readonly/><br/>

  <label>전화번호:</label>
  <input type="text" th:field="*{phone}" readonly/><br/>

  <!-- 수정 페이지로 이동할 수 있는 링크 -->
  <a href="/user/updateUser" th:if="${member != null}">정보 수정</a>
</form>

<!-- 비밀번호 변경 링크 -->
<a href="/user/changePassword" th:if="${member != null}">비밀번호 변경</a>

<!-- member가 null일 때 오류 메시지 표시 -->
<div th:if="${member == null}">
  <p style="color: red;">회원 정보를 불러올 수 없습니다.</p>
</div>

</body>
</html>